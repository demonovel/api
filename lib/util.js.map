{"version":3,"file":"util.js","sourceRoot":"","sources":["util.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAEH,mCAAwC;AAExC,IAAI,EAAE,GAAG,eAAe,CAAC;AAEzB,SAAgB,UAAU,CAAC,GAAW;IAErC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;AACpB,CAAC;AAHD,gCAGC;AAED,SAAgB,WAAW,CAAC,MAAc,EAAE,MAAc;IAEzD,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,EAC5C;QACC,MAAM,IAAI,uBAAc,CAAC;YACxB,OAAO,EAAE,WAAW,MAAM,MAAM,MAAM,GAAG;SACzC,CAAC,CAAA;KACF;AACF,CAAC;AARD,kCAQC;AAED,SAAgB,UAAU,CAAC,IAAI;IAE9B,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EACvB;QACC,MAAM,IAAI,uBAAc,CAAC;YACxB,OAAO,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe;SAC/C,CAAC,CAAA;KACF;AACF,CAAC;AARD,gCAQC","sourcesContent":["/**\n * Created by user on 2020/3/2.\n */\n\nimport { AssertionError } from 'assert';\n\nlet re = /[^a-z0-9_\\-]/i;\n\nexport function invalidKey(key: string)\n{\n\treturn re.test(key)\n}\n\nexport function assertDBKey(siteID: string, hashID: string)\n{\n\tif (invalidKey(siteID) || invalidKey(hashID))\n\t{\n\t\tthrow new AssertionError({\n\t\t\tmessage: `不合法的請求 '${siteID}' '${hashID}'`,\n\t\t})\n\t}\n}\n\nexport function assertData(data)\n{\n\tif (!data || !data.href)\n\t{\n\t\tthrow new AssertionError({\n\t\t\tmessage: `${JSON.stringify(data)} is not allow`,\n\t\t})\n\t}\n}\n"]}